!function(){return function t(e,n,r){function a(i,s){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!s&&c)return c(i,!0);if(o)return o(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[i]={exports:{}};e[i][0].call(l.exports,function(t){return a(e[i][1][t]||t)},l,l.exports,t,e,n,r)}return n[i].exports}for(var o="function"==typeof require&&require,i=0;i<r.length;i++)a(r[i]);return a}}()({1:[function(t,e,n){const r=(t=>document.getElementById(t))("loading_indicator"),a=document.getElementById("container"),{el:o,mount:i,list:s}=t("redom"),c=t("lodash/clone"),u=t("lodash/isEqual"),l=(()=>{const t=window.location.pathname;return 0!==t.lastIndexOf("/")?t.substring(0,t.lastIndexOf("/")):t})(),f=window.BASE_DATA_PATH||l.concat("/data/"),h={setAttr(t,e,n){t[e]!==n&&(t[e]=n)},visible(t){t.classList.add("visible")},invisible(t){t.classList.remove("visible")},hide(t){t&&t.el.classList.add("hidden")},unhide(t){t.el.classList.remove("hidden")},disable(t,e=!0){t.disabled=e},remove(t,e){const n=t.indexOf(e);n>=0&&t.splice(n,1)},setLink(t,e){t.href=e||"",t.innerText=e||""},setText(t,e){t.innerText=e||""},nearestParent(t,e){for(;;){if(!t||t.tagName===e)return t;t=t.parentElement}}};Object.freeze(h);const _={async GET(t,e="application/json;charset=UTF-8"){if(!t)throw new Error(`bad request: url: ${t}, body: ${body}`);h.visible(r);try{const n=await fetch(t,{method:"GET",headers:{"Content-Type":e}});return h.invisible(r),n}catch(t){h.invisible(r),alert(t.toString())}},async POST(t,e,n="application/json;charset=UTF-8"){if(!t||!e)throw new Error(`bad request: url: ${t}, body: ${e}`);h.visible(r);try{const a=await fetch(t,{method:"POST",headers:{"Content-Type":n},body:"string"==typeof e?e:JSON.stringify(e)});return h.invisible(r),a}catch(t){h.invisible(r),alert(t.toString())}}},p={statusMap:new Map,metas:async()=>p.metas=await(await _.GET(f.concat("metas"))).json(),async loadPage(t,e,n,r){const a={page:t||p.pageNum||0,pageSize:e||p.pageSize,status:n||p.status,startingId:r||p.startingId},o=Object.keys(a).filter(t=>a[t]||0===a[t]).map(t=>t+"="+a[t]).join("&");if(!o)throw new Error("no query make");const i=await _.GET(f.concat("page?").concat(o));return p.page=Object.freeze(await i.json())},async loadItemByIndex(t){if(!this.page||t>this.page.data.length||t<0)throw new Error("index not found: "+t);if(t==this.page.data.length){if(await p.loadPage(0,void 0,void 0,this.page.data[t-1].id),0===p.page.data.length)return null;t=0}return p.item=await p.loadItem(this.page.data[t].id),p.dataIndex=t,p.item},async loadItem(t){const e=await _.GET(f.concat("item?itemId="+t)),n=await e.json();return p.page&&(p.dataIndex=p.page.data.findIndex(e=>e.id===t),p.dataIndex<0&&(p.dataIndex=0)),p.item=n},async tags(){const t=await _.GET(f.concat("tags"),"text/plain");return p.allTags=Object.freeze((await t.text()).split(/\r?\n/))}};class d{constructor(){this.img=o("img.item-icon"),this.title=o("span.item-title"),this.el=o("li",[this.img,this.title])}update(t){this.el.id="list-item-"+t.id,this.el.dataset.itemid=String(t.id),this.title.textContent=t.title,h.setAttr(this.img,"src",t.favicon||l.concat("-assets/layout.png"))}}class v{constructor(){this.prev_btn=o("button.icon.prev"),this.next_btn=o("button.icon.next"),this.page_info=o("span.page_info"),this.dataItemList=s("ul.center",d);const t=t=>p.loadPage(t).then(t=>this.update(t.data));this.next_btn.onclick=(()=>t(p.pageNum+1)),this.prev_btn.onclick=(()=>t(p.pageNum-1)),this.el=o("section#items",[o(".top",[this.prev_btn,this.page_info,this.next_btn]),this.dataItemList]),this.dataItemList.el.onclick=(t=>{const e=h.nearestParent(t.target,"LI");e&&e.dataset.itemid&&(history.pushState({},e.innerText,l.concat("?item="+e.dataset.itemid)),"function"==typeof history.onpushstate&&history.onpushstate())})}update(t){const e=t=>{const e=p.statusMap.get(t.id);return!e||p.page.status===e};t.some(t=>!e(t))&&(t=t.filter(e)),this.dataItemList.update(t),h.disable(this.prev_btn,0===p.pageNum),this.updateCount()}updateCount(){const t=this.dataItemList.el.children;let e=`page: ${p.page.page}, count: ${t.length}`;t.length>1&&(e+=`, range: ${t[0].dataset.itemid} - ${t[t.length-1].dataset.itemid}`),this.page_info.innerText=e}}class y{constructor(){this.title=o("span"),this.remove=o("button.remove_tag"),this.remove.textContent="x",this.el=o("li.tag",[this.title,this.remove])}update(t){this.title.textContent=t,this.remove.dataset.tag=t}}class b{constructor(){this.el=s("ul.added_tags",y),this.el.el.onclick=(t=>{if(t.target.classList.contains("remove_tag")){const e=t.target.dataset.tag;h.remove(this.tags,e),this.el.update(this.tags),this.onRemove(e)}})}add(t){this.tags.push(t),this.el.update(this.tags)}set(t){this.tags=t||[],this.el.update(this.tags)}}class g{constructor(){this.title=o("h1.title"),this.searchBox=o("input.searchbox",{type:"text"}),this.tagsList=s("ul.tags_list",j),this.addedTags=new b;const t=o("button.ok_btn","OK");t.onclick=(()=>this.onclose(this.addedTags.tags)),this.el=o("#tags_adder",[this.title,this.searchBox,this.tagsList,o("span.added_tags_wrap",[this.addedTags,t])]),this.searchBox.onkeyup=(t=>this.onsearch(t)),this.tagsList.el.onclick=(t=>{"LI"===t.target.tagName&&this.addTag(t.target.innerText)})}onsearch(t){if(13===t.keyCode)this.searchBox.value&&this.searchBox.value.trim()&&this.addTag(this.searchBox.value.trim());else{const t=this.searchBox.value.toLowerCase();this.tagsList.update(t?this.loadedTags.filter(e=>e.lowercased.includes(t)):this.loadedTags)}}addTag(t){this.tagsList.update(this.loadedTags),this.addedTags.add(t),this.searchBox.value=""}update(t,e){this.title.textContent=t,this.addedTagsItems=e,p.allTags||p.tags().then(t=>{this.loadedTags=Array.from(t,t=>({name:t,lowercased:t.toLowerCase()})),this.tagsList.update(this.loadedTags)}),this.addedTags.set(this.addedTagsItems)}}class m{constructor(t,e){this.target=t,this.field=e,this.old_state=c(this.target[e])}isChanged(){return!u(this.old_state,this.getUpdated())}set(t){this.target[this.field]=t}getUpdated(){return this.target[this.field]}toString(){return`ChangeDetector(${this.field})[${this.old_state} -> ${this.target[this.field]}]`}}class x{constructor(){this.favicon=o("img.icon"),this.id_info=o("span.id_info"),this.title=o("h1.title");const t=[];this.source=this.tr(t,"Source",o("a",{target:"_blank"})),this.redirect=this.tr(t,"Redirect",o("a",{target:"_blank"})),this.addedOn=this.tr(t,"Added On"),this.status=this.tr(t,"Status",o("select.status",p.metas.allStatus.map(t=>o("option",{value:t,textContent:t})))),this.tags=this.tr(t,"Tags"),this.notes=this.tr(t,"Notes",o("textarea")),this.save=o("button.save_btn","SAVE"),this.next=o("button.save_btn","NEXT"),this.tagsList=new b,this.addTagBtn=o("button.add_tags_btn"),i(this.tags,o("span.added_tags_wrap",[this.tagsList,this.addTagBtn])),this.el=o("#content.visible",[o(".top",[this.favicon,this.id_info]),this.title,o("table",[o("tbody",t)]),o(".bottom",[this.next,this.save])]),this.status.onchange=(()=>this.change("status",this.status.value)),this.notes.onchange=(()=>this.change("notes",this.notes.value)),this.tagsList.onRemove=(()=>this.change("tags",this.tagsList.tags)),this.addTagBtn.onclick=(()=>this.onaddTag()),this.save.onclick=(()=>this.onsave()),this.next.onclick=(()=>p.loadItemByIndex(p.dataIndex+1).then(t=>{this.update(t),history.replaceState({},t.title,l.concat("?item="+t.id))}))}onsave(){const t={};let e=0;this.changes.forEach(n=>{n.isChanged()&&(t[n.field]=n.getUpdated(),e++)}),0==e?(alert("nothing to update"),this.changes.clear(),h.disable(this.save,!0)):(t.id=this.loadedItem.id,_.POST(f.concat("item"),t).then(e=>{e.status>=200&&e.status<300&&(this.changes.clear(),h.disable(this.save,!0),p.statusMap.set(t.id,t.status))}).catch(t=>alert("update failed"+t)))}onaddTag(){h.hide(this),this.tagsAdder||(this.tagsAdder=new g,i(a,this.tagsAdder)),h.unhide(this.tagsAdder),this.tagsAdder.update(this.loadedItem.title,[...this.loadedItem.tags]),this.tagsAdder.onclose=(t=>{h.hide(this.tagsAdder),h.unhide(this),this.tagsList.set(t),this.change("tags",t)})}change(t,e){let n=this.changes.get(t);n||(n=new m(this.loadedItem,t),this.changes.set(t,n)),n.set(e);let r=!1;this.changes.forEach(t=>{r=r||t.isChanged()}),h.disable(this.save,!r)}tr(t,e,n){const r=n?o("td",[n]):o("td");return t.push(o("tr",[o("td",e),r])),n||r}update(t){h.disable(this.next,!p.page||!p.dataIndex&&0!==p.dataIndex),this.loadedItem=t,this.changes=new Map,t.tags=t.tags||[],t.notes=t.notes||"",h.disable(this.save),h.setAttr(this.favicon,"src",t.favicon||""),h.setText(this.title,t.title),h.setLink(this.source,t.source),h.setLink(this.redirect,t.redirect),h.setText(this.addedOn,t.addedOn),h.setText(this.notes,t.notes),this.status.value=t.status,this.tagsList.set([...t.tags]),this.id_info.innerText=`${p.dataIndex||""} / ${t.id}`}}class j{constructor(){this.el=o("li")}update(t){this.el.textContent=t.name,t.hidden?this.el.classList.add("hidden"):this.el.classList.remove("hidden")}}let w,A;const O=()=>{const t=new URL(location.href);h.hide(w),h.hide(A),t.searchParams.get("item")?(A||(A=new x,i(a,A)),h.unhide(A),p.loadItem(Number(t.searchParams.get("item"))).then(t=>A.update(t))):(w||(w=new v,i(a,w)),h.unhide(w),p.page?w.update(p.page.data):p.loadPage(0).then(t=>w.update(t.data)))};p.metas().then(()=>{window.onpopstate=history.onpushstate=O,O()}).catch(t=>{alert(t.toString()),console.error(t)})},{"lodash/clone":105,"lodash/isEqual":111,redom:123}],2:[function(t,e,n){var r=t("./_getNative")(t("./_root"),"DataView");e.exports=r},{"./_getNative":59,"./_root":95}],3:[function(t,e,n){var r=t("./_hashClear"),a=t("./_hashDelete"),o=t("./_hashGet"),i=t("./_hashHas"),s=t("./_hashSet");function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,e.exports=c},{"./_hashClear":66,"./_hashDelete":67,"./_hashGet":68,"./_hashHas":69,"./_hashSet":70}],4:[function(t,e,n){var r=t("./_listCacheClear"),a=t("./_listCacheDelete"),o=t("./_listCacheGet"),i=t("./_listCacheHas"),s=t("./_listCacheSet");function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,e.exports=c},{"./_listCacheClear":78,"./_listCacheDelete":79,"./_listCacheGet":80,"./_listCacheHas":81,"./_listCacheSet":82}],5:[function(t,e,n){var r=t("./_getNative")(t("./_root"),"Map");e.exports=r},{"./_getNative":59,"./_root":95}],6:[function(t,e,n){var r=t("./_mapCacheClear"),a=t("./_mapCacheDelete"),o=t("./_mapCacheGet"),i=t("./_mapCacheHas"),s=t("./_mapCacheSet");function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,e.exports=c},{"./_mapCacheClear":83,"./_mapCacheDelete":84,"./_mapCacheGet":85,"./_mapCacheHas":86,"./_mapCacheSet":87}],7:[function(t,e,n){var r=t("./_getNative")(t("./_root"),"Promise");e.exports=r},{"./_getNative":59,"./_root":95}],8:[function(t,e,n){var r=t("./_getNative")(t("./_root"),"Set");e.exports=r},{"./_getNative":59,"./_root":95}],9:[function(t,e,n){var r=t("./_MapCache"),a=t("./_setCacheAdd"),o=t("./_setCacheHas");function i(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}i.prototype.add=i.prototype.push=a,i.prototype.has=o,e.exports=i},{"./_MapCache":6,"./_setCacheAdd":96,"./_setCacheHas":97}],10:[function(t,e,n){var r=t("./_ListCache"),a=t("./_stackClear"),o=t("./_stackDelete"),i=t("./_stackGet"),s=t("./_stackHas"),c=t("./_stackSet");function u(t){var e=this.__data__=new r(t);this.size=e.size}u.prototype.clear=a,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=s,u.prototype.set=c,e.exports=u},{"./_ListCache":4,"./_stackClear":99,"./_stackDelete":100,"./_stackGet":101,"./_stackHas":102,"./_stackSet":103}],11:[function(t,e,n){var r=t("./_root").Symbol;e.exports=r},{"./_root":95}],12:[function(t,e,n){var r=t("./_root").Uint8Array;e.exports=r},{"./_root":95}],13:[function(t,e,n){var r=t("./_getNative")(t("./_root"),"WeakMap");e.exports=r},{"./_getNative":59,"./_root":95}],14:[function(t,e,n){e.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},{}],15:[function(t,e,n){e.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,a=0,o=[];++n<r;){var i=t[n];e(i,n,t)&&(o[a++]=i)}return o}},{}],16:[function(t,e,n){var r=t("./_baseTimes"),a=t("./isArguments"),o=t("./isArray"),i=t("./isBuffer"),s=t("./_isIndex"),c=t("./isTypedArray"),u=Object.prototype.hasOwnProperty;e.exports=function(t,e){var n=o(t),l=!n&&a(t),f=!n&&!l&&i(t),h=!n&&!l&&!f&&c(t),_=n||l||f||h,p=_?r(t.length,String):[],d=p.length;for(var v in t)!e&&!u.call(t,v)||_&&("length"==v||f&&("offset"==v||"parent"==v)||h&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,d))||p.push(v);return p}},{"./_baseTimes":37,"./_isIndex":74,"./isArguments":107,"./isArray":108,"./isBuffer":110,"./isTypedArray":118}],17:[function(t,e,n){e.exports=function(t,e){for(var n=-1,r=e.length,a=t.length;++n<r;)t[a+n]=e[n];return t}},{}],18:[function(t,e,n){e.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},{}],19:[function(t,e,n){var r=t("./_baseAssignValue"),a=t("./eq"),o=Object.prototype.hasOwnProperty;e.exports=function(t,e,n){var i=t[e];o.call(t,e)&&a(i,n)&&(void 0!==n||e in t)||r(t,e,n)}},{"./_baseAssignValue":23,"./eq":106}],20:[function(t,e,n){var r=t("./eq");e.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},{"./eq":106}],21:[function(t,e,n){var r=t("./_copyObject"),a=t("./keys");e.exports=function(t,e){return t&&r(e,a(e),t)}},{"./_copyObject":47,"./keys":119}],22:[function(t,e,n){var r=t("./_copyObject"),a=t("./keysIn");e.exports=function(t,e){return t&&r(e,a(e),t)}},{"./_copyObject":47,"./keysIn":120}],23:[function(t,e,n){var r=t("./_defineProperty");e.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},{"./_defineProperty":51}],24:[function(t,e,n){var r=t("./_Stack"),a=t("./_arrayEach"),o=t("./_assignValue"),i=t("./_baseAssign"),s=t("./_baseAssignIn"),c=t("./_cloneBuffer"),u=t("./_copyArray"),l=t("./_copySymbols"),f=t("./_copySymbolsIn"),h=t("./_getAllKeys"),_=t("./_getAllKeysIn"),p=t("./_getTag"),d=t("./_initCloneArray"),v=t("./_initCloneByTag"),y=t("./_initCloneObject"),b=t("./isArray"),g=t("./isBuffer"),m=t("./isMap"),x=t("./isObject"),j=t("./isSet"),w=t("./keys"),A=1,O=2,S=4,T="[object Arguments]",k="[object Function]",C="[object GeneratorFunction]",I="[object Object]",L={};L[T]=L["[object Array]"]=L["[object ArrayBuffer]"]=L["[object DataView]"]=L["[object Boolean]"]=L["[object Date]"]=L["[object Float32Array]"]=L["[object Float64Array]"]=L["[object Int8Array]"]=L["[object Int16Array]"]=L["[object Int32Array]"]=L["[object Map]"]=L["[object Number]"]=L[I]=L["[object RegExp]"]=L["[object Set]"]=L["[object String]"]=L["[object Symbol]"]=L["[object Uint8Array]"]=L["[object Uint8ClampedArray]"]=L["[object Uint16Array]"]=L["[object Uint32Array]"]=!0,L["[object Error]"]=L[k]=L["[object WeakMap]"]=!1,e.exports=function t(e,n,N,P,E,D){var M,B=n&A,U=n&O,G=n&S;if(N&&(M=E?N(e,P,E,D):N(e)),void 0!==M)return M;if(!x(e))return e;var V=b(e);if(V){if(M=d(e),!B)return u(e,M)}else{var q=p(e),z=q==k||q==C;if(g(e))return c(e,B);if(q==I||q==T||z&&!E){if(M=U||z?{}:y(e),!B)return U?f(e,s(M,e)):l(e,i(M,e))}else{if(!L[q])return E?e:{};M=v(e,q,B)}}D||(D=new r);var F=D.get(e);if(F)return F;D.set(e,M),j(e)?e.forEach(function(r){M.add(t(r,n,N,r,e,D))}):m(e)&&e.forEach(function(r,a){M.set(a,t(r,n,N,a,e,D))});var K=G?U?_:h:U?keysIn:w,$=V?void 0:K(e);return a($||e,function(r,a){$&&(r=e[a=r]),o(M,a,t(r,n,N,a,e,D))}),M}},{"./_Stack":10,"./_arrayEach":14,"./_assignValue":19,"./_baseAssign":21,"./_baseAssignIn":22,"./_cloneBuffer":41,"./_copyArray":46,"./_copySymbols":48,"./_copySymbolsIn":49,"./_getAllKeys":56,"./_getAllKeysIn":57,"./_getTag":64,"./_initCloneArray":71,"./_initCloneByTag":72,"./_initCloneObject":73,"./isArray":108,"./isBuffer":110,"./isMap":114,"./isObject":115,"./isSet":117,"./keys":119}],25:[function(t,e,n){var r=t("./isObject"),a=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(a)return a(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();e.exports=o},{"./isObject":115}],26:[function(t,e,n){var r=t("./_arrayPush"),a=t("./isArray");e.exports=function(t,e,n){var o=e(t);return a(t)?o:r(o,n(t))}},{"./_arrayPush":17,"./isArray":108}],27:[function(t,e,n){var r=t("./_Symbol"),a=t("./_getRawTag"),o=t("./_objectToString"),i="[object Null]",s="[object Undefined]",c=r?r.toStringTag:void 0;e.exports=function(t){return null==t?void 0===t?s:i:c&&c in Object(t)?a(t):o(t)}},{"./_Symbol":11,"./_getRawTag":61,"./_objectToString":93}],28:[function(t,e,n){var r=t("./_baseGetTag"),a=t("./isObjectLike"),o="[object Arguments]";e.exports=function(t){return a(t)&&r(t)==o}},{"./_baseGetTag":27,"./isObjectLike":116}],29:[function(t,e,n){var r=t("./_baseIsEqualDeep"),a=t("./isObjectLike");e.exports=function t(e,n,o,i,s){return e===n||(null==e||null==n||!a(e)&&!a(n)?e!=e&&n!=n:r(e,n,o,i,t,s))}},{"./_baseIsEqualDeep":30,"./isObjectLike":116}],30:[function(t,e,n){var r=t("./_Stack"),a=t("./_equalArrays"),o=t("./_equalByTag"),i=t("./_equalObjects"),s=t("./_getTag"),c=t("./isArray"),u=t("./isBuffer"),l=t("./isTypedArray"),f=1,h="[object Arguments]",_="[object Array]",p="[object Object]",d=Object.prototype.hasOwnProperty;e.exports=function(t,e,n,v,y,b){var g=c(t),m=c(e),x=g?_:s(t),j=m?_:s(e),w=(x=x==h?p:x)==p,A=(j=j==h?p:j)==p,O=x==j;if(O&&u(t)){if(!u(e))return!1;g=!0,w=!1}if(O&&!w)return b||(b=new r),g||l(t)?a(t,e,n,v,y,b):o(t,e,x,n,v,y,b);if(!(n&f)){var S=w&&d.call(t,"__wrapped__"),T=A&&d.call(e,"__wrapped__");if(S||T){var k=S?t.value():t,C=T?e.value():e;return b||(b=new r),y(k,C,n,v,b)}}return!!O&&(b||(b=new r),i(t,e,n,v,y,b))}},{"./_Stack":10,"./_equalArrays":52,"./_equalByTag":53,"./_equalObjects":54,"./_getTag":64,"./isArray":108,"./isBuffer":110,"./isTypedArray":118}],31:[function(t,e,n){var r=t("./_getTag"),a=t("./isObjectLike"),o="[object Map]";e.exports=function(t){return a(t)&&r(t)==o}},{"./_getTag":64,"./isObjectLike":116}],32:[function(t,e,n){var r=t("./isFunction"),a=t("./_isMasked"),o=t("./isObject"),i=t("./_toSource"),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,f=u.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(t){return!(!o(t)||a(t))&&(r(t)?h:s).test(i(t))}},{"./_isMasked":76,"./_toSource":104,"./isFunction":112,"./isObject":115}],33:[function(t,e,n){var r=t("./_getTag"),a=t("./isObjectLike"),o="[object Set]";e.exports=function(t){return a(t)&&r(t)==o}},{"./_getTag":64,"./isObjectLike":116}],34:[function(t,e,n){var r=t("./_baseGetTag"),a=t("./isLength"),o=t("./isObjectLike"),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(t){return o(t)&&a(t.length)&&!!i[r(t)]}},{"./_baseGetTag":27,"./isLength":113,"./isObjectLike":116}],35:[function(t,e,n){var r=t("./_isPrototype"),a=t("./_nativeKeys"),o=Object.prototype.hasOwnProperty;e.exports=function(t){if(!r(t))return a(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},{"./_isPrototype":77,"./_nativeKeys":90}],36:[function(t,e,n){var r=t("./isObject"),a=t("./_isPrototype"),o=t("./_nativeKeysIn"),i=Object.prototype.hasOwnProperty;e.exports=function(t){if(!r(t))return o(t);var e=a(t),n=[];for(var s in t)("constructor"!=s||!e&&i.call(t,s))&&n.push(s);return n}},{"./_isPrototype":77,"./_nativeKeysIn":91,"./isObject":115}],37:[function(t,e,n){e.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},{}],38:[function(t,e,n){e.exports=function(t){return function(e){return t(e)}}},{}],39:[function(t,e,n){e.exports=function(t,e){return t.has(e)}},{}],40:[function(t,e,n){var r=t("./_Uint8Array");e.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},{"./_Uint8Array":12}],41:[function(t,e,n){var r=t("./_root"),a="object"==typeof n&&n&&!n.nodeType&&n,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,i=o&&o.exports===a?r.Buffer:void 0,s=i?i.allocUnsafe:void 0;e.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}},{"./_root":95}],42:[function(t,e,n){var r=t("./_cloneArrayBuffer");e.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},{"./_cloneArrayBuffer":40}],43:[function(t,e,n){var r=/\w*$/;e.exports=function(t){var e=new t.constructor(t.source,r.exec(t));return e.lastIndex=t.lastIndex,e}},{}],44:[function(t,e,n){var r=t("./_Symbol"),a=r?r.prototype:void 0,o=a?a.valueOf:void 0;e.exports=function(t){return o?Object(o.call(t)):{}}},{"./_Symbol":11}],45:[function(t,e,n){var r=t("./_cloneArrayBuffer");e.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},{"./_cloneArrayBuffer":40}],46:[function(t,e,n){e.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},{}],47:[function(t,e,n){var r=t("./_assignValue"),a=t("./_baseAssignValue");e.exports=function(t,e,n,o){var i=!n;n||(n={});for(var s=-1,c=e.length;++s<c;){var u=e[s],l=o?o(n[u],t[u],u,n,t):void 0;void 0===l&&(l=t[u]),i?a(n,u,l):r(n,u,l)}return n}},{"./_assignValue":19,"./_baseAssignValue":23}],48:[function(t,e,n){var r=t("./_copyObject"),a=t("./_getSymbols");e.exports=function(t,e){return r(t,a(t),e)}},{"./_copyObject":47,"./_getSymbols":62}],49:[function(t,e,n){var r=t("./_copyObject"),a=t("./_getSymbolsIn");e.exports=function(t,e){return r(t,a(t),e)}},{"./_copyObject":47,"./_getSymbolsIn":63}],50:[function(t,e,n){var r=t("./_root")["__core-js_shared__"];e.exports=r},{"./_root":95}],51:[function(t,e,n){var r=t("./_getNative"),a=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();e.exports=a},{"./_getNative":59}],52:[function(t,e,n){var r=t("./_SetCache"),a=t("./_arraySome"),o=t("./_cacheHas"),i=1,s=2;e.exports=function(t,e,n,c,u,l){var f=n&i,h=t.length,_=e.length;if(h!=_&&!(f&&_>h))return!1;var p=l.get(t);if(p&&l.get(e))return p==e;var d=-1,v=!0,y=n&s?new r:void 0;for(l.set(t,e),l.set(e,t);++d<h;){var b=t[d],g=e[d];if(c)var m=f?c(g,b,d,e,t,l):c(b,g,d,t,e,l);if(void 0!==m){if(m)continue;v=!1;break}if(y){if(!a(e,function(t,e){if(!o(y,e)&&(b===t||u(b,t,n,c,l)))return y.push(e)})){v=!1;break}}else if(b!==g&&!u(b,g,n,c,l)){v=!1;break}}return l.delete(t),l.delete(e),v}},{"./_SetCache":9,"./_arraySome":18,"./_cacheHas":39}],53:[function(t,e,n){var r=t("./_Symbol"),a=t("./_Uint8Array"),o=t("./eq"),i=t("./_equalArrays"),s=t("./_mapToArray"),c=t("./_setToArray"),u=1,l=2,f="[object Boolean]",h="[object Date]",_="[object Error]",p="[object Map]",d="[object Number]",v="[object RegExp]",y="[object Set]",b="[object String]",g="[object Symbol]",m="[object ArrayBuffer]",x="[object DataView]",j=r?r.prototype:void 0,w=j?j.valueOf:void 0;e.exports=function(t,e,n,r,j,A,O){switch(n){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case m:return!(t.byteLength!=e.byteLength||!A(new a(t),new a(e)));case f:case h:case d:return o(+t,+e);case _:return t.name==e.name&&t.message==e.message;case v:case b:return t==e+"";case p:var S=s;case y:var T=r&u;if(S||(S=c),t.size!=e.size&&!T)return!1;var k=O.get(t);if(k)return k==e;r|=l,O.set(t,e);var C=i(S(t),S(e),r,j,A,O);return O.delete(t),C;case g:if(w)return w.call(t)==w.call(e)}return!1}},{"./_Symbol":11,"./_Uint8Array":12,"./_equalArrays":52,"./_mapToArray":88,"./_setToArray":98,"./eq":106}],54:[function(t,e,n){var r=t("./_getAllKeys"),a=1,o=Object.prototype.hasOwnProperty;e.exports=function(t,e,n,i,s,c){var u=n&a,l=r(t),f=l.length;if(f!=r(e).length&&!u)return!1;for(var h=f;h--;){var _=l[h];if(!(u?_ in e:o.call(e,_)))return!1}var p=c.get(t);if(p&&c.get(e))return p==e;var d=!0;c.set(t,e),c.set(e,t);for(var v=u;++h<f;){var y=t[_=l[h]],b=e[_];if(i)var g=u?i(b,y,_,e,t,c):i(y,b,_,t,e,c);if(!(void 0===g?y===b||s(y,b,n,i,c):g)){d=!1;break}v||(v="constructor"==_)}if(d&&!v){var m=t.constructor,x=e.constructor;m!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof x&&x instanceof x)&&(d=!1)}return c.delete(t),c.delete(e),d}},{"./_getAllKeys":56}],55:[function(t,e,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],56:[function(t,e,n){var r=t("./_baseGetAllKeys"),a=t("./_getSymbols"),o=t("./keys");e.exports=function(t){return r(t,o,a)}},{"./_baseGetAllKeys":26,"./_getSymbols":62,"./keys":119}],57:[function(t,e,n){var r=t("./_baseGetAllKeys"),a=t("./_getSymbolsIn"),o=t("./keysIn");e.exports=function(t){return r(t,o,a)}},{"./_baseGetAllKeys":26,"./_getSymbolsIn":63,"./keysIn":120}],58:[function(t,e,n){var r=t("./_isKeyable");e.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},{"./_isKeyable":75}],59:[function(t,e,n){var r=t("./_baseIsNative"),a=t("./_getValue");e.exports=function(t,e){var n=a(t,e);return r(n)?n:void 0}},{"./_baseIsNative":32,"./_getValue":65}],60:[function(t,e,n){var r=t("./_overArg")(Object.getPrototypeOf,Object);e.exports=r},{"./_overArg":94}],61:[function(t,e,n){var r=t("./_Symbol"),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,s=r?r.toStringTag:void 0;e.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var a=i.call(t);return r&&(e?t[s]=n:delete t[s]),a}},{"./_Symbol":11}],62:[function(t,e,n){var r=t("./_arrayFilter"),a=t("./stubArray"),o=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(t){return null==t?[]:(t=Object(t),r(i(t),function(e){return o.call(t,e)}))}:a;e.exports=s},{"./_arrayFilter":15,"./stubArray":121}],63:[function(t,e,n){var r=t("./_arrayPush"),a=t("./_getPrototype"),o=t("./_getSymbols"),i=t("./stubArray"),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=a(t);return e}:i;e.exports=s},{"./_arrayPush":17,"./_getPrototype":60,"./_getSymbols":62,"./stubArray":121}],64:[function(t,e,n){var r=t("./_DataView"),a=t("./_Map"),o=t("./_Promise"),i=t("./_Set"),s=t("./_WeakMap"),c=t("./_baseGetTag"),u=t("./_toSource"),l=u(r),f=u(a),h=u(o),_=u(i),p=u(s),d=c;(r&&"[object DataView]"!=d(new r(new ArrayBuffer(1)))||a&&"[object Map]"!=d(new a)||o&&"[object Promise]"!=d(o.resolve())||i&&"[object Set]"!=d(new i)||s&&"[object WeakMap]"!=d(new s))&&(d=function(t){var e=c(t),n="[object Object]"==e?t.constructor:void 0,r=n?u(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case h:return"[object Promise]";case _:return"[object Set]";case p:return"[object WeakMap]"}return e}),e.exports=d},{"./_DataView":2,"./_Map":5,"./_Promise":7,"./_Set":8,"./_WeakMap":13,"./_baseGetTag":27,"./_toSource":104}],65:[function(t,e,n){e.exports=function(t,e){return null==t?void 0:t[e]}},{}],66:[function(t,e,n){var r=t("./_nativeCreate");e.exports=function(){this.__data__=r?r(null):{},this.size=0}},{"./_nativeCreate":89}],67:[function(t,e,n){e.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},{}],68:[function(t,e,n){var r=t("./_nativeCreate"),a="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;e.exports=function(t){var e=this.__data__;if(r){var n=e[t];return n===a?void 0:n}return o.call(e,t)?e[t]:void 0}},{"./_nativeCreate":89}],69:[function(t,e,n){var r=t("./_nativeCreate"),a=Object.prototype.hasOwnProperty;e.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:a.call(e,t)}},{"./_nativeCreate":89}],70:[function(t,e,n){var r=t("./_nativeCreate"),a="__lodash_hash_undefined__";e.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?a:e,this}},{"./_nativeCreate":89}],71:[function(t,e,n){var r=Object.prototype.hasOwnProperty;e.exports=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&r.call(t,"index")&&(n.index=t.index,n.input=t.input),n}},{}],72:[function(t,e,n){var r=t("./_cloneArrayBuffer"),a=t("./_cloneDataView"),o=t("./_cloneRegExp"),i=t("./_cloneSymbol"),s=t("./_cloneTypedArray"),c="[object Boolean]",u="[object Date]",l="[object Map]",f="[object Number]",h="[object RegExp]",_="[object Set]",p="[object String]",d="[object Symbol]",v="[object ArrayBuffer]",y="[object DataView]",b="[object Float32Array]",g="[object Float64Array]",m="[object Int8Array]",x="[object Int16Array]",j="[object Int32Array]",w="[object Uint8Array]",A="[object Uint8ClampedArray]",O="[object Uint16Array]",S="[object Uint32Array]";e.exports=function(t,e,n){var T=t.constructor;switch(e){case v:return r(t);case c:case u:return new T(+t);case y:return a(t,n);case b:case g:case m:case x:case j:case w:case A:case O:case S:return s(t,n);case l:return new T;case f:case p:return new T(t);case h:return o(t);case _:return new T;case d:return i(t)}}},{"./_cloneArrayBuffer":40,"./_cloneDataView":42,"./_cloneRegExp":43,"./_cloneSymbol":44,"./_cloneTypedArray":45}],73:[function(t,e,n){var r=t("./_baseCreate"),a=t("./_getPrototype"),o=t("./_isPrototype");e.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(a(t))}},{"./_baseCreate":25,"./_getPrototype":60,"./_isPrototype":77}],74:[function(t,e,n){var r=9007199254740991,a=/^(?:0|[1-9]\d*)$/;e.exports=function(t,e){var n=typeof t;return!!(e=null==e?r:e)&&("number"==n||"symbol"!=n&&a.test(t))&&t>-1&&t%1==0&&t<e}},{}],75:[function(t,e,n){e.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},{}],76:[function(t,e,n){var r,a=t("./_coreJsData"),o=(r=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(t){return!!o&&o in t}},{"./_coreJsData":50}],77:[function(t,e,n){var r=Object.prototype;e.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}},{}],78:[function(t,e,n){e.exports=function(){this.__data__=[],this.size=0}},{}],79:[function(t,e,n){var r=t("./_assocIndexOf"),a=Array.prototype.splice;e.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():a.call(e,n,1),--this.size,0))}},{"./_assocIndexOf":20}],80:[function(t,e,n){var r=t("./_assocIndexOf");e.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},{"./_assocIndexOf":20}],81:[function(t,e,n){var r=t("./_assocIndexOf");e.exports=function(t){return r(this.__data__,t)>-1}},{"./_assocIndexOf":20}],82:[function(t,e,n){var r=t("./_assocIndexOf");e.exports=function(t,e){var n=this.__data__,a=r(n,t);return a<0?(++this.size,n.push([t,e])):n[a][1]=e,this}},{"./_assocIndexOf":20}],83:[function(t,e,n){var r=t("./_Hash"),a=t("./_ListCache"),o=t("./_Map");e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||a),string:new r}}},{"./_Hash":3,"./_ListCache":4,"./_Map":5}],84:[function(t,e,n){var r=t("./_getMapData");e.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},{"./_getMapData":58}],85:[function(t,e,n){var r=t("./_getMapData");e.exports=function(t){return r(this,t).get(t)}},{"./_getMapData":58}],86:[function(t,e,n){var r=t("./_getMapData");e.exports=function(t){return r(this,t).has(t)}},{"./_getMapData":58}],87:[function(t,e,n){var r=t("./_getMapData");e.exports=function(t,e){var n=r(this,t),a=n.size;return n.set(t,e),this.size+=n.size==a?0:1,this}},{"./_getMapData":58}],88:[function(t,e,n){e.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}},{}],89:[function(t,e,n){var r=t("./_getNative")(Object,"create");e.exports=r},{"./_getNative":59}],90:[function(t,e,n){var r=t("./_overArg")(Object.keys,Object);e.exports=r},{"./_overArg":94}],91:[function(t,e,n){e.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},{}],92:[function(t,e,n){var r=t("./_freeGlobal"),a="object"==typeof n&&n&&!n.nodeType&&n,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,i=o&&o.exports===a&&r.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=s},{"./_freeGlobal":55}],93:[function(t,e,n){var r=Object.prototype.toString;e.exports=function(t){return r.call(t)}},{}],94:[function(t,e,n){e.exports=function(t,e){return function(n){return t(e(n))}}},{}],95:[function(t,e,n){var r=t("./_freeGlobal"),a="object"==typeof self&&self&&self.Object===Object&&self,o=r||a||Function("return this")();e.exports=o},{"./_freeGlobal":55}],96:[function(t,e,n){var r="__lodash_hash_undefined__";e.exports=function(t){return this.__data__.set(t,r),this}},{}],97:[function(t,e,n){e.exports=function(t){return this.__data__.has(t)}},{}],98:[function(t,e,n){e.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},{}],99:[function(t,e,n){var r=t("./_ListCache");e.exports=function(){this.__data__=new r,this.size=0}},{"./_ListCache":4}],100:[function(t,e,n){e.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},{}],101:[function(t,e,n){e.exports=function(t){return this.__data__.get(t)}},{}],102:[function(t,e,n){e.exports=function(t){return this.__data__.has(t)}},{}],103:[function(t,e,n){var r=t("./_ListCache"),a=t("./_Map"),o=t("./_MapCache"),i=200;e.exports=function(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!a||s.length<i-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(t,e),this.size=n.size,this}},{"./_ListCache":4,"./_Map":5,"./_MapCache":6}],104:[function(t,e,n){var r=Function.prototype.toString;e.exports=function(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},{}],105:[function(t,e,n){var r=t("./_baseClone"),a=4;e.exports=function(t){return r(t,a)}},{"./_baseClone":24}],106:[function(t,e,n){e.exports=function(t,e){return t===e||t!=t&&e!=e}},{}],107:[function(t,e,n){var r=t("./_baseIsArguments"),a=t("./isObjectLike"),o=Object.prototype,i=o.hasOwnProperty,s=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(t){return a(t)&&i.call(t,"callee")&&!s.call(t,"callee")};e.exports=c},{"./_baseIsArguments":28,"./isObjectLike":116}],108:[function(t,e,n){var r=Array.isArray;e.exports=r},{}],109:[function(t,e,n){var r=t("./isFunction"),a=t("./isLength");e.exports=function(t){return null!=t&&a(t.length)&&!r(t)}},{"./isFunction":112,"./isLength":113}],110:[function(t,e,n){var r=t("./_root"),a=t("./stubFalse"),o="object"==typeof n&&n&&!n.nodeType&&n,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===o?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||a;e.exports=c},{"./_root":95,"./stubFalse":122}],111:[function(t,e,n){var r=t("./_baseIsEqual");e.exports=function(t,e){return r(t,e)}},{"./_baseIsEqual":29}],112:[function(t,e,n){var r=t("./_baseGetTag"),a=t("./isObject"),o="[object AsyncFunction]",i="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";e.exports=function(t){if(!a(t))return!1;var e=r(t);return e==i||e==s||e==o||e==c}},{"./_baseGetTag":27,"./isObject":115}],113:[function(t,e,n){var r=9007199254740991;e.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}},{}],114:[function(t,e,n){var r=t("./_baseIsMap"),a=t("./_baseUnary"),o=t("./_nodeUtil"),i=o&&o.isMap,s=i?a(i):r;e.exports=s},{"./_baseIsMap":31,"./_baseUnary":38,"./_nodeUtil":92}],115:[function(t,e,n){e.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},{}],116:[function(t,e,n){e.exports=function(t){return null!=t&&"object"==typeof t}},{}],117:[function(t,e,n){var r=t("./_baseIsSet"),a=t("./_baseUnary"),o=t("./_nodeUtil"),i=o&&o.isSet,s=i?a(i):r;e.exports=s},{"./_baseIsSet":33,"./_baseUnary":38,"./_nodeUtil":92}],118:[function(t,e,n){var r=t("./_baseIsTypedArray"),a=t("./_baseUnary"),o=t("./_nodeUtil"),i=o&&o.isTypedArray,s=i?a(i):r;e.exports=s},{"./_baseIsTypedArray":34,"./_baseUnary":38,"./_nodeUtil":92}],119:[function(t,e,n){var r=t("./_arrayLikeKeys"),a=t("./_baseKeys"),o=t("./isArrayLike");e.exports=function(t){return o(t)?r(t):a(t)}},{"./_arrayLikeKeys":16,"./_baseKeys":35,"./isArrayLike":109}],120:[function(t,e,n){var r=t("./_arrayLikeKeys"),a=t("./_baseKeysIn"),o=t("./isArrayLike");e.exports=function(t){return o(t)?r(t,!0):a(t)}},{"./_arrayLikeKeys":16,"./_baseKeysIn":36,"./isArrayLike":109}],121:[function(t,e,n){e.exports=function(){return[]}},{}],122:[function(t,e,n){e.exports=function(){return!1}},{}],123:[function(t,e,n){var r,a;r=this,a=function(t){"use strict";function e(t,e){var n=function(t){for(var e=t.split(/([#.])/),n="",r="",a=[],o=0;o<e.length;o++){var i=e[o];"#"===i?r=e[++o]:"."===i?a.push(e[++o]):i.length&&(n=i)}return{tag:n||"div",id:r,className:a.join(" ")}}(t),r=n.tag,a=n.id,o=n.className,i=e?document.createElementNS(e,r):document.createElement(r);return a&&(i.id=a),o&&(e?i.setAttribute("class",o):i.className=o),i}function n(t,e){var n=b(t),a=b(e);return e===a&&a.__redom_view&&(e=a.__redom_view),a.parentNode&&(r(e,a,n),n.removeChild(a)),e}function r(t,e,n){var r=e.__redom_lifecycle;if(a(r))e.__redom_lifecycle={};else{var o=n;for(e.__redom_mounted&&c(e,"onunmount");o;){var i=o.__redom_lifecycle||{};for(var s in r)i[s]&&(i[s]-=r[s]);a(i)&&(o.__redom_lifecycle=null),o=o.parentNode}}}function a(t){if(null==t)return!0;for(var e in t)if(t[e])return!1;return!0}var o=["onmount","onremount","onunmount"],i="undefined"!=typeof window&&"ShadowRoot"in window;function s(t,e,n,a){var s=b(t),u=b(e);e===u&&u.__redom_view&&(e=u.__redom_view),e!==u&&(u.__redom_view=e);var l=u.__redom_mounted,f=u.parentNode;return l&&f!==s&&r(0,u,f),null!=n?a?s.replaceChild(u,b(n)):s.insertBefore(u,b(n)):s.appendChild(u),function(t,e,n,r){for(var a=e.__redom_lifecycle||(e.__redom_lifecycle={}),s=n===r,u=!1,l=0,f=o;l<f.length;l+=1){var h=f[l];s||t!==e&&h in t&&(a[h]=(a[h]||0)+1),a[h]&&(u=!0)}if(!u)return void(e.__redom_lifecycle={});var _=n,p=!1;(s||_&&_.__redom_mounted)&&(c(e,s?"onremount":"onmount"),p=!0);for(;_;){var d=_.parentNode,v=_.__redom_lifecycle||(_.__redom_lifecycle={});for(var y in a)v[y]=(v[y]||0)+a[y];if(p)break;(_.nodeType===Node.DOCUMENT_NODE||i&&_ instanceof ShadowRoot||d&&d.__redom_mounted)&&(c(_,s?"onremount":"onmount"),p=!0),_=d}}(e,u,s,f),e}function c(t,e){"onmount"===e||"onremount"===e?t.__redom_mounted=!0:"onunmount"===e&&(t.__redom_mounted=!1);var n=t.__redom_lifecycle;if(n){var r=t.__redom_view,a=0;for(var o in r&&r[e]&&r[e](),n)o&&a++;if(a)for(var i=t.firstChild;i;){var s=i.nextSibling;c(i,e),i=s}}}function u(t,e,n){var r=b(t);if("object"==typeof e)for(var a in e)l(r,a,e[a]);else l(r,e,n)}function l(t,e,n){t.style[e]=null==n?"":n}var f="http://www.w3.org/1999/xlink";function h(t,e,n,r){var a=b(t);if("object"==typeof e)for(var o in e)h(a,o,e[o],r);else{var i=a instanceof SVGElement,s="function"==typeof n;if("style"===e&&"object"==typeof n)u(a,n);else if(i&&s)a[e]=n;else if("dataset"===e)p(a,n);else if(!i&&(e in a||s)&&"list"!==e)a[e]=n;else{if(i&&"xlink"===e)return void _(a,n);r&&"class"===e&&(n=a.className+" "+n),null==n?a.removeAttribute(e):a.setAttribute(e,n)}}}function _(t,e,n){if("object"==typeof e)for(var r in e)_(t,r,e[r]);else null!=n?t.setAttributeNS(f,e,n):t.removeAttributeNS(f,e,n)}function p(t,e,n){if("object"==typeof e)for(var r in e)p(t,r,e[r]);else null!=n?t.dataset[e]=n:delete t.dataset[e]}function d(t){return document.createTextNode(null!=t?t:"")}function v(t,e,n){for(var r=0,a=e;r<a.length;r+=1){var o=a[r];if(0===o||o){var i=typeof o;"function"===i?o(t):"string"===i||"number"===i?t.appendChild(d(o)):g(b(o))?s(t,o):o.length?v(t,o,n):"object"===i&&h(t,o,null,n)}}}function y(t){return"string"==typeof t?x(t):b(t)}function b(t){return t.nodeType&&t||!t.el&&t||b(t.el)}function g(t){return t&&t.nodeType}var m={};function x(t){for(var e,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];var a=typeof t;if("string"===a)e=A(t).cloneNode(!1);else if(g(t))e=t.cloneNode(!1);else{if("function"!==a)throw new Error("At least one argument required");var o=t;e=new(Function.prototype.bind.apply(o,[null].concat(n)))}return v(b(e),n,!0),e}var j=x,w=x;function A(t){return m[t]||(m[t]=e(t))}function O(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];for(var a=function t(e,n,r){var a=r;var o=new Array(n.length);for(var i=0;i<n.length;i++)o[i]=n[i]&&b(n[i]);for(var c=0;c<n.length;c++){var u=n[c];if(u){var l=o[c];if(l!==a)if(g(l)){var f=a&&a.nextSibling,h=null!=u.__redom_index,_=h&&f===o[c+1];s(e,u,a,_),_&&(a=f)}else null!=u.length&&(a=t(e,u,a));else a=a.nextSibling}}return a}(t,e,b(t).firstChild);a;){var o=a.nextSibling;n(t,a),a=o}}x.extend=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var r=A(t);return x.bind.apply(x,[this,r].concat(e))};var S=function(t,e,n){this.View=t,this.initData=n,this.oldLookup={},this.lookup={},this.oldViews=[],this.views=[],null!=e&&(this.key="function"==typeof e?e:function(t){return function(e){return e[t]}}(e))};function T(t,e,n,r){return new k(t,e,n,r)}S.prototype.update=function(t,e){for(var n=this.View,r=this.key,a=this.initData,o=null!=r,i=this.lookup,s={},c=new Array(t.length),u=this.views,l=0;l<t.length;l++){var f=t[l],h=void 0;if(o){var _=r(f);h=i[_]||new n(a,f,l,t),s[_]=h,h.__redom_id=_}else h=u[l]||new n(a,f,l,t);h.update&&h.update(f,l,t,e),b(h.el).__redom_view=h,c[l]=h}this.oldViews=u,this.views=c,this.oldLookup=i,this.lookup=s};var k=function(t,e,n,r){this.__redom_list=!0,this.View=e,this.initData=r,this.views=[],this.pool=new S(e,n,r),this.el=y(t),this.keySet=null!=n};k.prototype.update=function(t,e){void 0===t&&(t=[]);var r=this.keySet,a=this.views;this.pool.update(t,e);var o=this.pool,i=o.views,s=o.lookup;if(r)for(var c=0;c<a.length;c++){var u=a[c];null==s[u.__redom_id]&&(u.__redom_index=null,n(this,u))}for(var l=0;l<i.length;l++){i[l].__redom_index=l}O(this,i),r&&(this.lookup=s),this.views=i},k.extend=function(t,e,n,r){return k.bind(k,t,e,n,r)},T.extend=k.extend;var C=function(t,e){this.el=d(""),this.visible=!1,this.view=null,this._placeholder=this.el,t instanceof Node?this._el=t:t.el instanceof Node?(this._el=t,this.view=t):this._View=t,this._initData=e};C.prototype.update=function(t,e){var r=this._placeholder,a=this.el.parentNode;if(t){if(!this.visible)if(this._el)s(a,this._el,r),n(a,r),this.el=b(this._el),this.visible=t;else{var o=new(0,this._View)(this._initData);this.el=b(o),this.view=o,s(a,o,r),n(a,r)}this.view&&this.view.update&&this.view.update(e)}else if(this.visible){if(this._el)return s(a,r,this._el),n(a,this._el),this.el=r,void(this.visible=t);s(a,r,this.view),n(a,this.view),this.el=r,this.view=null}this.visible=t};var I=function(t,e,n){this.el=y(t),this.Views=e,this.initData=n};I.prototype.update=function(t,e){if(t!==this.route){var n=this.Views[t];this.route=t,n&&(n instanceof Node||n.el instanceof Node)?this.view=n:this.view=n&&new n(this.initData,e),O(this.el,[this.view])}this.view&&this.view.update&&this.view.update(e,t)};var L="http://www.w3.org/2000/svg",N={};function P(t){for(var e,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];var a=typeof t;if("string"===a)e=D(t).cloneNode(!1);else if(g(t))e=t.cloneNode(!1);else{if("function"!==a)throw new Error("At least one argument required");var o=t;e=new(Function.prototype.bind.apply(o,[null].concat(n)))}return v(b(e),n,!0),e}var E=P;function D(t){return N[t]||(N[t]=e(t,L))}P.extend=function(t){var e=D(t);return P.bind(this,e)},P.ns=L,t.List=k,t.ListPool=S,t.Place=C,t.Router=I,t.el=j,t.h=w,t.html=x,t.list=T,t.listPool=function(t,e,n){return new S(t,e,n)},t.mount=s,t.place=function(t,e){return new C(t,e)},t.router=function(t,e,n){return new I(t,e,n)},t.s=E,t.setAttr=function(t,e,n){h(t,e,n)},t.setChildren=O,t.setData=p,t.setStyle=u,t.setXlink=_,t.svg=P,t.text=d,t.unmount=n,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?a(n):"function"==typeof define&&define.amd?define(["exports"],a):a((r=r||self).redom={})},{}]},{},[1]);